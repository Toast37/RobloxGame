# Roblox《Tobacco/烟草》←————游戏名！我随便翻了一下字典决定的！
存储游戏开发日志与开发感想，一边开发一边学习，用AI辅助编码，不介意任何人的指导甚至欢迎！

♥♥♥♥

我不会写READEME，所以这儿现在就是我的日记了！

（截至2025/12/1）：
=============================================================================================

# 游戏玩法与类型；

PVPVE 搜打撤.....（还有更细分的玩法吗？没想好......）

# 游戏已实现功能：

## 纯客户端脚本：
· 角色模型身体与头部分离旋转与摄像机平滑（我觉得这样挺酷的！手感很厚重！帅！）————Camera.lua
· 摄像机效果（震动、头部晃动）————CameraEffectManager.lua
· 输入系统（接收玩家输入）————Control.lua
· 基础控制效果(奔跑、下蹲、瞄准、闪避、改变左右越肩视)————CombatManager.lua
· **攻击连招系统（支持轻攻击连续输入，0.8秒重置，支持武器切换动态加载动画）————CombatManager.lua**
· 本地玩家管理器（负责记录玩家数据包与玩家状变量、进行客户端预测）————PlayerManager.lua
· **动画管理器（预加载动画与播放，支持按武器类型分类攻击动画，支持Priority和Looped参数直接传入）————AnimationManager.lua**
· UI管理器（负责统一预加载与处理客户端的UI效果）————UIManager.lua
· 目标锁定（这个功能目前还没想好要不要实装，写完后放在那一直没管过！）————TargetLock.lua

## 服务器端与客户端共享脚本：

· 数据包基类（拥有基础的事件系统与数值）————Attribute.lua
· 本地数据包与镜像数据包（本地数据包用于预测，镜像则用于同步，客户端不需要预测NPC和其他玩家的血量，他们由服务器的权威数据包同步，仅由客户端自身进行分类创建，服务端均为LocalAttribute本地数据包）————LocalAttribute.lua、MirrorAttribute.lua
· 生命组件、体力组件（用数据包创建的组件脚本）————HealthComponent.lua、StaminaComponent.lua
· 客户端实体管理器/服务端实体管理器（客户端实体管理器用于自身预测，仅更新自身数据包与接受服务端发来的更新数据包，内置数据包工厂，根据创建对象返回不同数据包）————ClientEntityManager、ServerEntityManager
· 游戏配置————GameConfig.lua

## 纯服务端脚本:
· 服务端玩家管理器（处理玩家权威数据包）————ServerPlayerManager.lua
· 服务器请求验证中心（负责处理由客户端发来的请求和验证合理性）————ServerRequestHandler.lua
==========================================================================================

# 最近更新日志（2025/12/1）：

## ✨ 新增功能：
· **攻击连招系统**：实现了轻攻击连招，支持动画循环播放，0.8秒无操作自动重置连招索引
· **武器动画系统**：AnimationManager支持按武器类型（None, Sword等）分类加载攻击动画，可通过SetWeaponType()动态切换
· **PlayAttackAnimation()方法**：新增专门播放攻击动画的接口，支持传入Priority和Looped参数
· **动画参数优化**：PlayAnimation()现在可以直接传入priority和looped参数，无需手动设置track属性

## 🐛 修复BUG：
· **修复摄像机快速旋转头部卡住BUG**：
  - 问题原因：头部和身体跟随速度太慢（0.5/0.3），快速旋转时追不上摄像机，导致头身差值超过60°被钳制
  - 解决方案1：提高基础跟随速度（headSmoothness改为0.8，bodySmoothness改为0.6）
  - 解决方案2：添加智能加速系统，当检测到角度差>90°时，自动提升跟随速度至0.95/0.85
  - 现在即使疯狂旋转鼠标，头部也能立即跟上，不再卡住！

## 🔧 代码优化：
· 移除了不必要的`_lightAttackTracks`缓存数组，简化了攻击系统代码
· 统一了动画播放接口，减少重复代码
· 优化了Camera.lua的角度插值逻辑，使用shortestAngleDelta避免"转错方向"

==========================================================================================

＞本人非计算机专业，制作游戏纯属个人爱好，同时也热衷学习更多知识，目前处于自学状态，所以还请各位大佬的积极批评鞭笞！
